DÆ°á»›i Ä‘Ã¢y lÃ  phÃ¢n tÃ­ch cÆ¡ sá»Ÿ dá»¯ liá»‡u (database) tá»« lÆ°á»£c Ä‘á»“ báº¡n cung cáº¥p:

## **1. Tá»•ng quan vá» cÆ¡ sá»Ÿ dá»¯ liá»‡u**
CÆ¡ sá»Ÿ dá»¯ liá»‡u nÃ y cÃ³ váº» Ä‘Æ°á»£c thiáº¿t káº¿ cho má»™t há»‡ thá»‘ng quáº£n lÃ½ nhÃ¢n sá»±, dá»± Ã¡n vÃ  quyá»n truy cáº­p ngÆ°á»i dÃ¹ng. NÃ³ bao gá»“m cÃ¡c nhÃ³m báº£ng chÃ­nh:
- **NgÆ°á»i dÃ¹ng & quyá»n háº¡n:** `Users`, `Roles`, `UserRoles`, `UserClaims`, `UserTokens`, `CompanyRoles`, `RoleClaims`
- **NhÃ¢n viÃªn & tá»• chá»©c:** `Staffs`, `Departments`
- **Dá»± Ã¡n & phÃ¢n cÃ´ng:** `Projects`, `ProjectEnrollments`, `ProjectRoles`
- **Theo dÃµi hÃ nh Ä‘á»™ng & lá»‹ch sá»­:** `AuditTrails`, `Actions`, `UserActions`
- **Quyá»n lá»£i & yÃªu cáº§u:** `Claims`, `ClaimDetails`

---

## **2. PhÃ¢n tÃ­ch chi tiáº¿t cÃ¡c nhÃ³m báº£ng**
### **2.1. NhÃ³m quáº£n lÃ½ ngÆ°á»i dÃ¹ng & quyá»n háº¡n**
- **`Users`**: Chá»©a thÃ´ng tin chi tiáº¿t vá» ngÆ°á»i dÃ¹ng nhÆ° `FullName`, `Email`, `PasswordHash`, `SecurityStamp`...
- **`Roles`**: Chá»©a cÃ¡c vai trÃ² cá»§a há»‡ thá»‘ng nhÆ° `Admin`, `Manager`, `Employee`...
- **`UserRoles`**: LiÃªn káº¿t giá»¯a `Users` vÃ  `Roles`, thá»ƒ hiá»‡n má»—i ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ cÃ³ nhiá»u vai trÃ².
- **`UserClaims`**: LÆ°u thÃ´ng tin vá» quyá»n háº¡n bá»• sung cá»§a ngÆ°á»i dÃ¹ng.
- **`UserTokens`**: Quáº£n lÃ½ token Ä‘Äƒng nháº­p cá»§a ngÆ°á»i dÃ¹ng.
- **`CompanyRoles`**: Chá»©a danh sÃ¡ch vai trÃ² cÃ´ng ty.
- **`RoleClaims`**: Äá»‹nh nghÄ©a quyá»n háº¡n liÃªn quan Ä‘áº¿n má»—i vai trÃ².

ğŸ‘‰ **NhÃ³m nÃ y giÃºp quáº£n lÃ½ thÃ´ng tin ngÆ°á»i dÃ¹ng, phÃ¢n quyá»n vÃ  báº£o máº­t há»‡ thá»‘ng.**

---

### **2.2. NhÃ³m nhÃ¢n sá»± & tá»• chá»©c**
- **`Staffs`**: Quáº£n lÃ½ thÃ´ng tin nhÃ¢n viÃªn (`UserId`, `DepartmentId`, `Rank`, `Salary`...).
- **`Departments`**: Chá»©a danh sÃ¡ch phÃ²ng ban cá»§a cÃ´ng ty.

ğŸ‘‰ **GiÃºp tá»• chá»©c nhÃ¢n sá»± theo phÃ²ng ban vÃ  theo dÃµi thÃ´ng tin cá»§a tá»«ng nhÃ¢n viÃªn.**

---

### **2.3. NhÃ³m quáº£n lÃ½ dá»± Ã¡n & phÃ¢n cÃ´ng**
- **`Projects`**: Chá»©a thÃ´ng tin vá» dá»± Ã¡n nhÆ° `ProjectCode`, `ProjectName`, `StartDate`, `EndDate`, `Status`.
- **`ProjectEnrollments`**: LiÃªn káº¿t nhÃ¢n viÃªn vá»›i dá»± Ã¡n, thá»ƒ hiá»‡n ai Ä‘ang tham gia vÃ o dá»± Ã¡n nÃ o.
- **`ProjectRoles`**: XÃ¡c Ä‘á»‹nh vai trÃ² cá»§a nhÃ¢n viÃªn trong tá»«ng dá»± Ã¡n.

ğŸ‘‰ **Quáº£n lÃ½ thÃ´ng tin dá»± Ã¡n vÃ  viá»‡c phÃ¢n cÃ´ng nhÃ¢n sá»± vÃ o dá»± Ã¡n.**

---

### **2.4. NhÃ³m theo dÃµi hÃ nh Ä‘á»™ng & lá»‹ch sá»­**
- **`AuditTrails`**: Ghi láº¡i cÃ¡c thao tÃ¡c trÃªn há»‡ thá»‘ng (ai Ä‘Ã£ lÃ m gÃ¬, khi nÃ o).
- **`Actions`**: Chá»©a danh sÃ¡ch cÃ¡c hÃ nh Ä‘á»™ng cÃ³ thá»ƒ thá»±c hiá»‡n trÃªn há»‡ thá»‘ng.
- **`UserActions`**: Ghi nháº­n hÃ nh Ä‘á»™ng cá»§a tá»«ng ngÆ°á»i dÃ¹ng.

ğŸ‘‰ **Há»¯u Ã­ch cho viá»‡c giÃ¡m sÃ¡t, kiá»ƒm tra báº£o máº­t vÃ  phÃ¡t hiá»‡n hoáº¡t Ä‘á»™ng Ä‘Ã¡ng ngá».**

---

### **2.5. NhÃ³m quyá»n lá»£i & yÃªu cáº§u**
- **`Claims`**: Chá»©a yÃªu cáº§u quyá»n lá»£i, vÃ­ dá»¥ nhÆ° yÃªu cáº§u thanh toÃ¡n hoáº·c bá»“i thÆ°á»ng.
- **`ClaimDetails`**: Chá»©a chi tiáº¿t tá»«ng yÃªu cáº§u (sá»‘ tiá»n, ngÃ y, tráº¡ng thÃ¡i...).

ğŸ‘‰ **Quáº£n lÃ½ cÃ¡c yÃªu cáº§u quyá»n lá»£i trong há»‡ thá»‘ng.**

---

## **3. Má»‘i quan há»‡ chÃ­nh giá»¯a cÃ¡c báº£ng**
1. **NgÆ°á»i dÃ¹ng (`Users`) cÃ³ thá»ƒ cÃ³ nhiá»u vai trÃ² (`Roles`)** thÃ´ng qua báº£ng `UserRoles`.
2. **NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ cÃ³ nhiá»u yÃªu cáº§u quyá»n lá»£i (`Claims`)**.
3. **Má»—i nhÃ¢n viÃªn (`Staffs`) thuá»™c má»™t phÃ²ng ban (`Departments`)**.
4. **NhÃ¢n viÃªn cÃ³ thá»ƒ tham gia nhiá»u dá»± Ã¡n (`Projects`)** thÃ´ng qua `ProjectEnrollments`.
5. **Dá»± Ã¡n cÃ³ thá»ƒ cÃ³ nhiá»u vai trÃ² (`ProjectRoles`)** Ä‘á»ƒ phÃ¢n cÃ´ng trÃ¡ch nhiá»‡m cá»¥ thá»ƒ.
6. **CÃ¡c thao tÃ¡c cá»§a ngÆ°á»i dÃ¹ng (`UserActions`) Ä‘Æ°á»£c ghi nháº­n trong `AuditTrails`**.

---

## **4. Nháº­n xÃ©t vÃ  cáº£i tiáº¿n**
âœ… **Æ¯u Ä‘iá»ƒm:**
- Thiáº¿t káº¿ rÃµ rÃ ng, tá»• chá»©c tá»‘t giá»¯a ngÆ°á»i dÃ¹ng, dá»± Ã¡n vÃ  nhÃ¢n sá»±.
- Sá»­ dá»¥ng báº£ng trung gian há»£p lÃ½ (`UserRoles`, `ProjectEnrollments`...).
- CÃ³ tÃ­nh nÄƒng ghi lá»‹ch sá»­ thay Ä‘á»•i (`AuditTrails`), giÃºp theo dÃµi há»‡ thá»‘ng tá»‘t.

ğŸ”§ **Cáº£i tiáº¿n Ä‘á» xuáº¥t:**
1. **ThÃªm rÃ ng buá»™c quan há»‡ (FOREIGN KEY) rÃµ rÃ ng hÆ¡n** Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh toÃ n váº¹n dá»¯ liá»‡u.
2. **Tá»‘i Æ°u báº£ng `AuditTrails`**, chá»‰ lÆ°u nhá»¯ng thay Ä‘á»•i quan trá»ng Ä‘á»ƒ trÃ¡nh dá»¯ liá»‡u quÃ¡ lá»›n.
3. **ThÃªm tráº¡ng thÃ¡i (`Status`) cho `ProjectEnrollments`** Ä‘á»ƒ thá»ƒ hiá»‡n nhÃ¢n viÃªn Ä‘ang hoáº¡t Ä‘á»™ng hay Ä‘Ã£ rá»i khá»i dá»± Ã¡n.
4. **Chuáº©n hÃ³a dá»¯ liá»‡u cá»™t `Name` trong cÃ¡c báº£ng (`Users`, `Projects`, `Roles`...)** Ä‘á»ƒ trÃ¡nh trÃ¹ng láº·p.

---

## **5. Káº¿t luáº­n**
CÆ¡ sá»Ÿ dá»¯ liá»‡u nÃ y Ä‘Æ°á»£c thiáº¿t káº¿ tá»‘t cho há»‡ thá»‘ng quáº£n lÃ½ nhÃ¢n sá»± vÃ  dá»± Ã¡n. NÃ³ cÃ³ thá»ƒ má»Ÿ rá»™ng Ä‘á»ƒ thÃªm tÃ­nh nÄƒng nhÆ° Ä‘Ã¡nh giÃ¡ hiá»‡u suáº¥t, quáº£n lÃ½ cÃ´ng viá»‡c chi tiáº¿t trong dá»± Ã¡n hoáº·c theo dÃµi tÃ i nguyÃªn dá»± Ã¡n.

### **1. CÆ¡ sá»Ÿ dá»¯ liá»‡u nÃ y dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬?**  
Dá»±a vÃ o thiáº¿t káº¿, Ä‘Ã¢y lÃ  má»™t **há»‡ thá»‘ng quáº£n lÃ½ nhÃ¢n sá»± vÃ  dá»± Ã¡n** cho má»™t cÃ´ng ty hoáº·c tá»• chá»©c. NÃ³ cÃ³ thá»ƒ há»— trá»£ cÃ¡c chá»©c nÄƒng sau:  
âœ… **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng & phÃ¢n quyá»n**: NhÃ¢n viÃªn cÃ³ thá»ƒ Ä‘Äƒng nháº­p, Ä‘Æ°á»£c phÃ¢n quyá»n theo vai trÃ².  
âœ… **Quáº£n lÃ½ nhÃ¢n viÃªn & phÃ²ng ban**: Má»—i nhÃ¢n viÃªn thuá»™c má»™t phÃ²ng ban, cÃ³ chá»©c danh vÃ  lÆ°Æ¡ng.  
âœ… **Quáº£n lÃ½ dá»± Ã¡n & phÃ¢n cÃ´ng**: NhÃ¢n viÃªn cÃ³ thá»ƒ tham gia nhiá»u dá»± Ã¡n vá»›i vai trÃ² cá»¥ thá»ƒ.  
âœ… **Theo dÃµi lá»‹ch sá»­ hoáº¡t Ä‘á»™ng**: LÆ°u láº¡i cÃ¡c thao tÃ¡c cá»§a ngÆ°á»i dÃ¹ng trÃªn há»‡ thá»‘ng.  
âœ… **Quáº£n lÃ½ quyá»n lá»£i & yÃªu cáº§u**: Há»— trá»£ yÃªu cáº§u quyá»n lá»£i (báº£o hiá»ƒm, chi phÃ­...).  

---

### **2. Luá»“ng hoáº¡t Ä‘á»™ng cá»§a há»‡ thá»‘ng**
#### **(1) ÄÄƒng nháº­p & phÃ¢n quyá»n**
1. NgÆ°á»i dÃ¹ng nháº­p tÃ i khoáº£n vÃ  máº­t kháº©u.  
2. Há»‡ thá»‘ng kiá»ƒm tra `Users` â†’ Náº¿u há»£p lá»‡, láº¥y thÃ´ng tin tá»« `UserRoles`.  
3. NgÆ°á»i dÃ¹ng Ä‘Æ°á»£c cáº¥p quyá»n theo `Roles`.  
4. Há»‡ thá»‘ng lÆ°u token vÃ o `UserTokens` Ä‘á»ƒ duy trÃ¬ phiÃªn Ä‘Äƒng nháº­p.  

#### **(2) Quáº£n lÃ½ nhÃ¢n viÃªn & phÃ²ng ban**
1. Admin thÃªm nhÃ¢n viÃªn vÃ o `Users`, gÃ¡n vÃ o phÃ²ng ban (`Departments`).  
2. NhÃ¢n viÃªn cÃ³ thá»ƒ cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n, há»‡ thá»‘ng ghi láº¡i lá»‹ch sá»­ thay Ä‘á»•i (`AuditTrails`).  

#### **(3) Quáº£n lÃ½ dá»± Ã¡n & phÃ¢n cÃ´ng**
1. Quáº£n lÃ½ táº¡o dá»± Ã¡n trong `Projects`.  
2. ThÃªm nhÃ¢n viÃªn vÃ o dá»± Ã¡n trong `ProjectEnrollments`.  
3. XÃ¡c Ä‘á»‹nh vai trÃ² trong dá»± Ã¡n (`ProjectRoles`).  
4. NhÃ¢n viÃªn lÃ m viá»‡c, há»‡ thá»‘ng ghi láº¡i tiáº¿n Ä‘á»™ trong `AuditTrails`.  

#### **(4) Theo dÃµi lá»‹ch sá»­ & hoáº¡t Ä‘á»™ng**
1. Má»i thao tÃ¡c quan trá»ng (táº¡o, sá»­a, xÃ³a) Ä‘Æ°á»£c lÆ°u trong `AuditTrails`.  
2. Há»‡ thá»‘ng ghi nháº­n ai thá»±c hiá»‡n hÃ nh Ä‘á»™ng gÃ¬ (`UserActions`).  

#### **(5) Xá»­ lÃ½ yÃªu cáº§u quyá»n lá»£i**
1. NhÃ¢n viÃªn gá»­i yÃªu cáº§u quyá»n lá»£i (`Claims`).  
2. Há»‡ thá»‘ng kiá»ƒm tra vÃ  cáº­p nháº­t tráº¡ng thÃ¡i (`ClaimDetails`).  
3. Náº¿u Ä‘Æ°á»£c duyá»‡t, chi phÃ­ Ä‘Æ°á»£c ghi láº¡i.  

---

### **3. Tá»•ng káº¿t**
ğŸŸ¢ **Há»‡ thá»‘ng giÃºp cÃ´ng ty quáº£n lÃ½ nhÃ¢n sá»±, dá»± Ã¡n vÃ  theo dÃµi hoáº¡t Ä‘á»™ng má»™t cÃ¡ch hiá»‡u quáº£.**  
ğŸ”µ **CÃ³ thá»ƒ má»Ÿ rá»™ng thÃªm tÃ­nh nÄƒng nhÆ° Ä‘Ã¡nh giÃ¡ nhÃ¢n viÃªn, quáº£n lÃ½ cÃ´ng viá»‡c chi tiáº¿t hoáº·c tá»± Ä‘á»™ng hÃ³a bÃ¡o cÃ¡o.**  


